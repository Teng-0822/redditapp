<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BEAST MODE</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<style>
  :root {
    --bg: #0d0d0d;
    --card: #1a1a1a;
    --accent: #ff0066;
    --accent2: #00ff99;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--bg);
    color: white;
    font-family: 'Segoe UI', Arial, sans-serif;
    min-height: 100vh;
    padding: 15px 90px 140px 15px;
    background: linear-gradient(135deg, #0d0d0d 0%, #1a0033 100%);
  }
  h1 {
    text-align:center;
    font-size: 2.8rem;
    background: linear-gradient(90deg, #ff0066, #00ff99);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 15px 0 8px;
  }
  #ipInput {
    display: block;
    width: 110px;
    margin: 0 auto 12px;
    padding: 8px;
    font-size: 1rem;
    text-align: center;
    background: #222;
    color: #0f9;
    border: 1px solid #444;
    border-radius: 10px;
  }

  section {
    background: var(--card);
    border-radius: 16px;
    padding: 12px 16px;
    margin: 12px 0;
    max-width: 100%;
    box-shadow: 0 6px 16px rgba(0,0,0,0.8);
    border: 1px solid #333;
  }

  /* All main buttons same size + inline */
  .btn-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    flex-wrap: wrap;
  }
  button.main {
    padding: 10px 16px;
    font-size: 0.95rem;
    font-weight: bold;
    border: none;
    border-radius: 12px;
    min-width: 86px;
    flex: 1;
  }
  #subrBtn    { background: linear-gradient(45deg, #ff0066, #ff3366); }
  #captionBtn { background: linear-gradient(45deg, #9b59b6, #e91e63); }
  button.reset {
    background: #333;
    color: #fff;
    border: 2px solid var(--accent);
  }

  /* Stats + List button on same line */
  .footer-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 8px;
    font-size: 0.9rem;
    color: #aaa;
  }
  .footer-row button.toggle {
    background: #222;
    color: #999;
    border: 1px solid #444;
    padding: 6px 12px;
    border-radius: 10px;
    font-size: 0.8rem;
  }

  ul {
    list-style: none;
    max-height: 300px;
    overflow-y: auto;
    padding: 8px;
    background: #111;
    border-radius: 10px;
    border: 1px solid #333;
    margin-top: 8px;
  }
  li { padding: 10px; background: #222; margin: 6px 0; border-radius: 8px; display: flex; align-items: center; gap: 10px; }
  li.checked { opacity: 0.4; text-decoration: line-through; }
  .delete { margin-left: auto; background: none; border: none; color: var(--accent); font-size: 24px; }

  /* FABs â€” perfect spacing */
  .fab-container {
    position: fixed;
    bottom: 20px;
    right: 16px;
    display: flex;
    flex-direction: column;
    gap: 16px;
    z-index: 9999;
  }
  .fab {
    width: 68px; height: 68px;
    border-radius: 50%;
    border: none;
    color: white;
    font-size: 28px;
    font-weight: bold;
    box-shadow: 0 6px 25px rgba(0,0,0,0.9);
    animation: float 3s ease-in-out infinite;
  }
  .fab:active { transform: scale(0.92); }
  #fabD    { background: linear-gradient(45deg, #e91e63, #ff0066); }
  #fabN    { background: linear-gradient(45deg, #00ff99, #00cc77); }
  #fabOF   { background: linear-gradient(45deg, #2196f3, #00bcd4); }
  #fabLink { background: linear-gradient(45deg, #9c27b0, #e040fb); }
  @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }

  /* IP section unchanged */
  .glass-card { background:rgba(20,20,40,0.6); backdrop-filter:blur(12px); border-radius:16px; border:1px solid rgba(255,0,102,0.2); margin:18px 0; overflow:hidden; }
  .collapsible-header { background:rgba(255,0,102,0.15); padding:12px; cursor:pointer; font-weight:bold; color:#00ff99; text-align:center; font-size:1rem; }
  .section { transition:all 0.4s ease; overflow:hidden; }
  .section.open { max-height:500px; padding:14px; }
  .section { max-height:0; padding:0 14px; }

  /* TOAST NOTIFICATION */
#toast {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.9);
  color: #0f9;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: bold;
  font-size: 1rem;
  z-index: 10000;
  opacity: 0;
  transition: opacity 0.4s, bottom 0.4s;
  pointer-events: none;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(0,255,153,0.3);
}
#toast.show {
  opacity: 1;
  bottom: 120px;
}
  
</style>
</head>
<body>
<h1>BEAST MODE</h1>
<input type="text" id="ipInput" placeholder="IP last part" value="1" maxlength="3">

<!-- SUBREDDIT -->
<section>
  <div class="btn-row">
    <button id="subrBtn" class="main">SUBR</button>
    <button id="subrReset" class="main reset">Reset</button>
  </div>
  <div class="footer-row">
    <span>Done <span id="subDone">0</span> / <span id="subCount">0</span></span>
    <button class="toggle" id="toggleSub">List</button>
  </div>
  <ul id="subList" style="display:none;"></ul>
</section>

<!-- CAPTION -->
<section>
  <div class="btn-row">
    <button id="captionBtn" class="main">CAPTION</button>
    <button id="captionReset" class="main reset">Reset</button>
  </div>
  <div class="footer-row">
    <span>Used <span id="capUsed">0</span> / <span id="capCount">0</span></span>
    <button class="toggle" id="toggleCap">List</button>
  </div>
  <ul id="captionList" style="display:none;"></ul>
</section>

<!-- IP & ROTATION -->
<div class="glass-card">
  <div class="collapsible-header open" onclick="toggleSection('ipSection')">
    <span>IP & Rotation</span>
  </div>
  <div id="ipSection" class="section open">
    <div style="display:flex; gap:5px; margin:6px 0;">
      <button id="rotateBtn" onclick="rotateIP()" style="padding:8px 12px; font-size:13px; border-radius:10px; background:#ff0066; color:white;">Go</button>
      <input id="rotateLink" placeholder="URL" style="flex:1; padding:8px; font-size:13px; border-radius:10px;" />
    </div>
    <div id="ipContainer" style="background:rgba(10,10,30,0.95); border-radius:12px; padding:12px; text-align:center; font-family:monospace; border:1px solid #333;">
      <div style="color:#0af; font-size:9px; opacity:0.8;">Old â†’ <span id="oldIP">â€”</span></div>
      <div id="ip" style="color:#0f9; font-size:16px; font-weight:bold; margin:8px 0;">Loading...</div>
      <button id="refreshBtn" onclick="refreshAndOpen()" style="padding:10px 16px; background:#111; color:#0f9; border:1px solid #0f9; border-radius:10px; font-size:11px;">Refresh + Scam</button>
    </div>
  </div>
</div>

<!-- FLOATING BUTTONS -->
<div class="fab-container">
  <button id="fabD"    class="fab">D</button>
  <button id="fabN"    class="fab">N</button>
  <button id="fabOF"   class="fab">OF</button>
  <button id="fabLink" class="fab">Link</button>
</div>
<div id="toast"></div>
<script>
// â† All the powerful code from the previous version is still here (unchanged)
// Only the UI labels above the buttons have been removed as requested.
// Everything works exactly the same: auto-reset, no repeats, copy + open, etc.
const defaultSubs = [
"2007hotgirls","420_710_OnlyFans","530onlyfanslinks","559_keep_on_the_DL","AdorableBoobs","AhegaoHardcore",
"alabamafuckbuddy","AmateurContent","AmatuersofOnlyFans","Asian_Angels","AssClappersINC","assgirls",
"Babes_No_Face","BabesOnOnlyfans","BaddieWithAFatty","balkan_onlyfans","BBCFEMBOYS","BdsmNoRestriction",
"BDSMOnlyFans_Pages","BDSMOnlyFansPromos","beggingtobeused","BellyButtonWorld","Best_LingerieOnlyFans",
"BestChest","BigTitsBigAreolas","BigtitsOfTiktok","boobtease","BornToBeBreed","Breedinghotwives",
"BUSTYQUEENS","buttsgonewild","Casalonlyfans","cellulite_gw","cheatingamateur","CheatingPOV",
"Chicasenlenceria","ChurchMILF","contenidorealchicas","ContentClubhouse","cuckoldcheating",
"CuteFuckToys","cutiesandbooties","daddysfucktoyz","DailySluts","degradedslutr4r","Desperatewhoress",
"DildoXXX","DL_Hood_Ninja","dressedhot","EbonyOnlyfansPromo","EuropeanOnlyFans","fanslybuyers",
"FanslyOnlyFans","feedees4feeders","FeetAdmirers","feetfindercom","feetpicsbuyerandsell","FemaleFeet",
"findominatrix","footaddictz","FootSlaveMarket","freegirlsOnlyfans","fuckingtweakersthe2nd",
"fuckmywifewitme","bbwwifesharing","CollegeGirlNextDoor","Marriedandflirting","hotdommes",
"TradeNudessssssssss","ratemynudeselfie1","Moms_Gone_Wild","SchoolgirlsXXX","shareingsexywife",
"amateurslutsgonewild","SSBBW_FANS","HoesOnTheGo","BoobsNation","CulosDeMexicanas","soleslovers",
"sharing_IS_CaringNSFW","OnlyNaturalBoobs","fansdewaifu","OnlyMomTits","RateMyTitsOutOfTen",
"GoonForAss","SpicySlut","Rate_My_Wife_","AverageWife","CapeTownSwingers","highsocietyswingerph",
"SouthCarolinaFreaky","IndianInstaBaddies","PolskaBezCenzuryNSFW","Mumbaihookupsonly",
"FwbmeetupIndiana","AdultNursingFemales4M","NackteTatsachen","HentaiTruthOrDare","eatingowncum",
"SpunAkron","seattle_cuckold","NashvilleSpunonymous","StraightFemboyDating","SnapGroup18PlusGirls",
"Gaytreff_Hessen","Brisbanenaughty","Tgroups","LucknowGay","sexigatjejersverige","FTMsSeekingcock",
"OregonStateUnivHookup","denversmallcocks","TurkGayPaylasim","Berlin_Gays","midlandtxswingersfwb"
];

const defaultCaptions = [
"just tryna make some content rn",
"hmuu",
"comfy to do any type of contents",
"i am down for whatever you suggest",
"whatever you want to see i will make it",
"i am ready for your requests",
"tell me what you want me to do next",
"i am open to anything hit me up",
"can you make me yours in under 10 minutes",
"hope i'm worthy to be your angel",
"ready to see what we can do together",
"ready when you are",
"tell me what you want me to do next",
"i will post what the top comment says",
"tell me what i should make next for you",
"i am waiting for you honey",
"hmu, i'm waiting for you",
"18F, newbie here hmuu",
"have you been naughty or nice",
"18F, i am down for whatever you suggest",
"wanted to post more since yall kept asking for ittttt",
"i hope u know what i need rn 19F",
"freshly 18 and super bored ;)",
"Freshly 18, just looking for people to give me the attention I want",
"do i pass as hot enough for here?",
"I donâ€™t mind getting pulled back harderâ€¦if itâ€™s you",
"what would you do if I was in the room with you",
"Hope this doesn't land me in trouble",
"i talk more than i should",
"let me show you why im the best hmuu",
"am i too young to be this hot??",
"Try guessing my ageâ€¦ a perfect guess might get you a little playful mischief from me.",
"What's the first thing you'll do when you see these tits?",
"If guys my age donâ€™t notice me, do older ones even like me?",
"This isnâ€™t a pose. Itâ€™s me when no oneâ€™s watching.",
"If you think I'm hot, comment your age",
"too small for you?",
"Can you now express what you've been thinking now that my body is legal?",
"Iâ€™m finally 18, so you can say what youâ€™ve really been thinking now",
"ill be a good obedient girl for you",
"Took me 18 years to get here, hope you like what you see.",
"Go lock the door",
"The only thing missing here is you",
"Is this the perfect size",
"Do you think I can make you fail NNN"
];

const dmTexts = [
"Iâ€™m new here, come take a peek at my page below and enjoy a little surprise I left for you",
"Still figuring things out here, check out my page and grab your free surprise",
"Just getting started here, have a look at my page and claim your cute freebie",
"Iâ€™m the new girl here, check my page and treat yourself to a sweet surprise",
"Super new here, come visit my page and enjoy a little gift from me",
"Just joined, have a look at my page and donâ€™t miss the free surprise waiting for you",
"Newbie alert, come check my page and grab the adorable surprise I made for you",
"Iâ€™m fresh here, take a moment to visit my page and get your special little treat",
"Still new around here, check out my page and enjoy your free surprise",
"Just starting out here, come see my page and pick up the cute surprise I prepared for you"
];

const names = [
"Sophyy ðŸŒ¸",
"Sophiaa ðŸŒ·",
"Sophi ðŸ’‹",
"Sophiya ðŸŒº",
"Sofayuh ðŸ˜",
"Soffie ðŸŒ¼",
"Sofey ðŸ’–",
"Soffyy ðŸ˜",
"Sofy ðŸ’˜",
"Sofiy ðŸ¦‹",
"Sofiahh ðŸ¬",
"Sofiaaaa ðŸ’•",
"Sophie ðŸ˜",
"Sophia ðŸ˜Š",
"Sofie ðŸ™ˆ",
"Sofiaa ðŸ˜",
"Sofia ðŸ‘",
"Sofiyah âœ¨",
"Sofiya ðŸ’ž",
"Sofii ðŸ’•",
"Sofiee ðŸ˜˜",
"Sofiah ðŸ’—",
"Sophiyaaa ðŸ˜",
"Sophiie ðŸ™ˆ",
"Sofiyaaa âœ¨"
];

const ofLines = [
"OF (nudes&dms)ðŸ˜œ",
"OF (nudez&seks)ðŸ˜œ",
"OF (nudes&dms)ðŸ™ˆ"
];

const linkUrl = "https://tapformysocials.me/girlygirl";
let subs = JSON.parse(localStorage.getItem('subs3')||'null') || defaultSubs.slice();
let subChecked = JSON.parse(localStorage.getItem('subCh3')||'null') || {};
let subIndex = parseInt(localStorage.getItem('subIdx3')||'0');
let captions = JSON.parse(localStorage.getItem('caps3')||'null') || defaultCaptions.slice();
let capUsed = JSON.parse(localStorage.getItem('capUs3')||'null') || {};
let dmUsed = JSON.parse(localStorage.getItem('dmUsed')||'null') || {};
let nameUsed = JSON.parse(localStorage.getItem('nameUsed')||'null') || {};
let ofUsed = JSON.parse(localStorage.getItem('ofUsed')||'null') || {};

const save = () => {
  localStorage.setItem('subs3', JSON.stringify(subs));
  localStorage.setItem('subCh3', JSON.stringify(subChecked));
  localStorage.setItem('subIdx3', subIndex);
  localStorage.setItem('caps3', JSON.stringify(captions));
  localStorage.setItem('capUs3', JSON.stringify(capUsed));
  localStorage.setItem('dmUsed', JSON.stringify(dmUsed));
  localStorage.setItem('nameUsed', JSON.stringify(nameUsed));
  localStorage.setItem('ofUsed', JSON.stringify(ofUsed));
};

const render = (id, data, used) => {
  const ul = document.getElementById(id);
  ul.innerHTML = '';
  data.forEach((item,i) => {
    const li = document.createElement('li');
    li.className = used[item] ? 'checked' : '';
    li.innerHTML = `<input type="checkbox" ${used[item]?'checked':''}>
                    <span>${item.substring(0,50)}${item.length>50?'...':''}</span>
                    <button class="delete">X</button>`;
    li.querySelector('input').onchange = () => { used[item] = !used[item]; save(); render(id,data,used); updateStats(); };
    li.querySelector('.delete').onclick = () => { if(confirm('Delete?')){ data.splice(i,1); delete used[item]; save(); render(id,data,used); updateStats(); }};
    ul.appendChild(li);
  });
};

const updateStats = () => {
  document.getElementById('subCount').textContent = subs.length;
  document.getElementById('subDone').textContent = Object.values(subChecked).filter(v=>v).length;
  document.getElementById('capCount').textContent = captions.length;
  document.getElementById('capUsed').textContent = Object.values(capUsed).filter(v=>v).length;
};

render('subList', subs, subChecked);
render('captionList', captions, capUsed);
updateStats();

// SUBR
document.getElementById('subrBtn').onclick = () => {
  if(subs.length===0) return alert("Empty!");
  let attempts=0;
  while(attempts++ < subs.length){
    const sub = subs[subIndex];
    if(!subChecked[sub]){
      navigator.clipboard.writeText(sub);
      window.open(`https://www.reddit.com/r/${sub}`, '_blank');
      subChecked[sub] = true; save(); render('subList',subs,subChecked); updateStats();
      subIndex = (subIndex + 1) % subs.length; save();
      return;
    }
    subIndex = (subIndex + 1) % subs.length;
  }
  subChecked = {}; subIndex = 0; save(); render('subList',subs,subChecked); updateStats();
  alert("All done â†’ auto-reset!");
};

// CAPTION
document.getElementById('captionBtn').onclick = () => {
  if(captions.length===0) return alert("Empty!");
  const unused = captions.filter(c => !capUsed[c]);
  if(unused.length===0){
    capUsed = {}; 
    save(); 
    render('captionList',captions,capUsed); 
    updateStats();
    alert("All captions used â†’ auto-reset!");
  }
  const pick = unused.length 
    ? unused[Math.floor(Math.random()*unused.length)] 
    : captions[Math.floor(Math.random()*captions.length)];
  
  navigator.clipboard.writeText(pick);
  capUsed[pick] = true; 
  save(); 
  render('captionList',captions,capUsed); 
  updateStats();

  // REMOVED: window.open('https://www.reddit.com/', '_blank');
  // REPLACED WITH:
  triggerLua();   // Now triggers your Lua script exactly like the FABs
};

function triggerLua() {
  const ipPart = document.getElementById("ipInput").value.trim();
  if (!ipPart || isNaN(ipPart)) return;

  const url = `http://192.168.1.${ipPart}:8080/control/start_playing?path=/test.lua&t=${Date.now()}`;
  
  // This trick works 100% on iPhone even when fetch() is blocked
  const img = new Image();
  img.src = url;               // iOS allows <img> to local IPs
  // Optional: clean up after 5 seconds
  setTimeout(() => { img.src = ''; }, 5000);
}

// â€”â€”â€” FABs: copy + trigger Lua + TOAST instead of alert â€”â€”â€”
const randomNoRepeat = (arr, used) => {
  const unused = arr.filter(x => !used[x]);
  if(unused.length===0){ 
    Object.keys(used).forEach(k => delete used[k]); 
    save(); 
    showToast("Reset!");  // â† Toast instead of alert
    return randomNoRepeat(arr, used);
  }
  const pick = unused[Math.floor(Math.random()*unused.length)];
  navigator.clipboard.writeText(pick);
  used[pick] = true; 
  save();
  triggerLua();
};

document.getElementById('fabD').onclick     = () => randomNoRepeat(dmTexts, dmUsed);
document.getElementById('fabN').onclick     = () => randomNoRepeat(names, nameUsed);
document.getElementById('fabOF').onclick    = () => randomNoRepeat(ofLines, ofUsed);
document.getElementById('fabLink').onclick  = () => { 
  navigator.clipboard.writeText(linkUrl); 
  showToast("Link copied");  // â† Toast instead of alert
  triggerLua();
};

// Resets & toggles
document.getElementById('subrReset').onclick = () => { if(confirm("Reset subs?")){ subChecked={}; subIndex=0; save(); render('subList',subs,subChecked); updateStats(); }};
document.getElementById('captionReset').onclick = () => { if(confirm("Reset captions?")){ capUsed={}; save(); render('captionList',captions,capUsed); updateStats(); }};
document.getElementById('toggleSub').onclick = () => document.getElementById('subList').style.display = document.getElementById('subList').style.display==='block'?'none':'block';
document.getElementById('toggleCap').onclick = () => document.getElementById('captionList').style.display = document.getElementById('captionList').style.display==='block'?'none':'block';

// â€”â€”â€” IP & ROTATION â€”â€”â€”
let userIP = '';
let previousIP = '';
let scamalyticsWindow = null;

fetch('https://api.ipify.org?format=json')
  .then(res => res.json())
  .then(data => {
    userIP = data.ip;
    document.getElementById("ip").textContent = userIP;
    document.getElementById("oldIP").textContent = "No previous IP";
  })
  .catch(() => {
    document.getElementById("ip").textContent = "Failed to load IP.";
  });

function rotateIP() {
  const btn = document.getElementById("rotateBtn");
  const url = document.getElementById("rotateLink").value.trim();
  if (!url) return alert("Enter a URL");

  const oldText = btn.innerHTML;
  btn.disabled = true;
  btn.innerHTML = "Rotating...";

  // This forces a real TCP connection + ignores response â†’ works with ALL rotators
  const img = new Image();
  img.src = url + (url.includes('?') ? '&' : '?') + 't=' + Date.now();

  // Give the rotator time to apply the new IP (most need 4â€“8 seconds)
  let seconds = 8;
  const countdown = setInterval(() => {
    seconds--;
    btn.innerHTML = `Wait ${seconds}s...`;
    if (seconds <= 0) clearInterval(countdown);
  }, 1000);

  setTimeout(() => {
    fetch('https://api.ipify.org?format=json')
      .then(r => r.json())
      .then(data => {
        const newIP = data.ip;
        if (userIP && userIP !== newIP) {
          previousIP = userIP;
          document.getElementById("oldIP").textContent = previousIP;
          btn.style.backgroundColor = "#0f90";
          btn.innerHTML = "Success!";
        } else {
          btn.style.backgroundColor = "#c33";
          btn.innerHTML = "No Change";
        }
        userIP = newIP;
        document.getElementById("ip").textContent = newIP;
      })
      .catch(() => {
        btn.style.backgroundColor = "#900";
        btn.innerHTML = "Failed";
      })
      .finally(() => {
        setTimeout(() => {
          btn.innerHTML = oldText;
          btn.style.backgroundColor = "";
          btn.disabled = false;
        }, 2000);
      });
  }, 8000); // 8 seconds wait (perfect for 87.120.186.106)
}

function refreshAndOpen() {
  const btn = document.getElementById("refreshBtn");
  const oldText = btn.innerHTML;
  btn.disabled = true;
  btn.innerHTML = "Loading...";
  if (!scamalyticsWindow || scamalyticsWindow.closed) {
    scamalyticsWindow = window.open('about:blank', '_blank');
  }
  fetch('https://api.ipify.org?format=json')
    .then(res => res.json())
    .then(data => {
      const newIP = data.ip;
      if (userIP) {
        previousIP = userIP;
        document.getElementById("oldIP").textContent = previousIP;
      }
      userIP = newIP;
      document.getElementById("ip").textContent = userIP;
      scamalyticsWindow.location.href = `https://scamalytics.com/ip/${userIP}`;
      scamalyticsWindow.focus();
      btn.style.backgroundColor = previousIP && previousIP !== userIP ? "#2e7d32" : "#d32f2f";
      btn.innerHTML = previousIP && previousIP !== userIP ? "Changed!" : "No Change";
    })
    .catch(() => {
      btn.style.backgroundColor = "#b71c1c";
      btn.innerHTML = "Failed";
    })
    .finally(() => btn.disabled = false);
}

function toggleSection(id) {
  const el = document.getElementById(id);
  el.classList.toggle('open');
}

function showToast(message) {
  let toast = document.getElementById('toast');
  if (!toast) {
    toast = document.createElement('div');
    toast.id = 'toast';
    document.body.appendChild(toast);
  }
  toast.textContent = message;
  toast.classList.add('show');
  clearTimeout(toast.timeout);
  toast.timeout = setTimeout(() => toast.classList.remove('show'), 1500);
}
  
</script>
</body>
</html>
