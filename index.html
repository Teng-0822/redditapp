<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BEAST MODE</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<style>
  :root {
    --bg: #0d0d0d;
    --card: #1a1a1a;
    --accent: #ff0066;
    --accent2: #00ff99;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--bg);
    color: white;
    font-family: 'Segoe UI', Arial, sans-serif;
    min-height: 100vh;
    padding: 15px 15px 100px 15px;
    background: linear-gradient(135deg, #0d0d0d 0%, #1a0033 100%);
  }
  h1 {
    text-align:center;
    font-size: 2.8rem;
    background: linear-gradient(90deg, #ff0066, #00ff99);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 15px 0 20px;
  }
  #ipInput {
    display: block;
    width: 110px;
    margin: 0 auto 15px;
    padding: 8px;
    font-size: 1rem;
    text-align: center;
    background: #222;
    color: #0f9;
    border: 1px solid #444;
    border-radius: 10px;
  }

  /* Collapsible Dropdown Sections */
  .dropdown {
    background: var(--card);
    border-radius: 18px;
    margin: 16px auto;
    max-width: 420px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.8);
    border: 1px solid #333;
    overflow: hidden;
  }
  .dropdown-header {
    display: flex;
    align-items: center;
    justify-content: center;   /* ‚Üê centers the long button */
    gap: 20px;
    padding: 18px 20px;
    cursor: pointer;
    background: rgba(255,255,255,0.03);
  }
  .dropdown-header button {
    padding: 11px 40px;        /* ‚Üê was 14px 32px ‚Üí shorter height, longer width */
    font-size: 1.25rem;        /* ‚Üê slightly smaller text */
    font-weight: bold;
    border: none;
    border-radius: 16px;
    min-width: 180px;          /* ‚Üê forces longer button */
    height: 52px;              /* ‚Üê fixed shorter height */
  }
  #subrBtn { background: linear-gradient(45deg, #ff0066, #ff3366); }
  #captionBtn { background: linear-gradient(45deg, #9b59b6, #e91e63); }
  .arrow {
    font-size: 28px;
    transition: transform 0.3s;
    color: #aaa;
  }
  .arrow.open { transform: rotate(180deg); }

  .dropdown-content {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease, padding 0.4s ease;
    background: rgba(0,0,0,0.3);
  }
  .dropdown-content.open {
    max-height: 300px;
    padding: 16px 20px;
  }
  .content-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 12px 0;
    font-size: 0.95rem;
    color: #ccc;
  }
  .content-row button {
    background: #333;
    color: #ff0066;
    border: 2px solid #ff0066;
    padding: 8px 16px;
    border-radius: 12px;
    font-size: 0.9rem;
  }
  .content-row .toggle {
    background: #222;
    color: #999;
    border: 1px solid #444;
  }

  /* IP Section - longer & centered */
  .glass-card {
    background: rgba(20,20,40,0.6);
    backdrop-filter: blur(12px);
    border-radius: 18px;
    border: 1px solid rgba(255,0,102,0.2);
    margin: 20px auto;
    max-width: 420px;
    overflow: hidden;
  }

  /* FABs - Horizontal at bottom like iPhone dock */
  .fab-container {
    position: fixed;
    bottom: 18px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 18px;
    z-index: 9999;
    background: rgba(20,20,20,0.8);
    padding: 12px 20px;
    border-radius: 50px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  }
  .fab {
    width: 64px; height: 64px;
    border-radius: 50%;
    border: none;
    color: white;
    font-size: 26px;
    font-weight: bold;
    box-shadow: 0 6px 20px rgba(0,0,0,0.8);
  }
  .fab:active { transform: scale(0.9); }

  /* Toast */
  #toast {
    position: fixed;
    bottom: 110px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.9);
    color: #0f9;
    padding: 12px 28px;
    border-radius: 30px;
    font-weight: bold;
    font-size: 1rem;
    z-index: 10000;
    opacity: 0;
    transition: all 0.4s;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0,255,153,0.3);
  }
  #toast.show { opacity: 1; bottom: 130px; }
  
</style>
</head>
<body>
<h1>BEAST MODE</h1>
<input type="text" id="ipInput" placeholder="IP last" value="1" maxlength="3">

<!-- SUBREDDIT DROPDOWN -->
<div class="dropdown">
  <div class="dropdown-header" onclick="toggleDropdown('sub')">
    <button id="subrBtn">SUBR</button>
    <span class="arrow" id="subArrow">üëáüèº</span>
  </div>
  <div class="dropdown-content" id="subContent">
    <div class="content-row">
      <span>Done <span id="subDone">0</span> / <span id="subCount">0</span></span>
      <button id="subrReset">Reset</button>
    </div>
    <div class="content-row">
      <span></span>
      <button class="toggle" id="toggleSub">List</button>
    </div>
    <ul id="subList" style="display:none; margin-top:12px;"></ul>
  </div>
</div>

<!-- CAPTION DROPDOWN -->
<div class="dropdown">
  <div class="dropdown-header" onclick="toggleDropdown('cap')">
    <button id="captionBtn">CAPTION</button>
    <span class="arrow" id="capArrow">üëáüèº</span>
  </div>
  <div class="dropdown-content" id="capContent">
    <div class="content-row">
      <span>Used <span id="capUsed">0</span> / <span id="capCount">0</span></span>
      <button id="captionReset">Reset</button>
    </div>
    <div class="content-row">
      <span></span>
      <button class="toggle" id="toggleCap">List</button>
    </div>
    <ul id="captionList" style="display:none; margin-top:12px;"></ul>
  </div>
</div>

<!-- IP & ROTATION -->
<div class="glass-card">
  <div class="collapsible-header open" onclick="toggleSection('ipSection')">
    <span>IP & Rotation</span>
  </div>
  <div id="ipSection" class="section open">
    <div style="display:flex; gap:5px; margin:10px 0;">
      <button id="rotateBtn" onclick="rotateIP()">Go</button>
      <input id="rotateLink" placeholder="http://87.120..." style="flex:1; padding:8px; border-radius:10px;" />
    </div>
    <div id="ipContainer" style="background:rgba(10,10,30,0.95); border-radius:12px; padding:14px; text-align:center; font-family:monospace; border:1px solid #333;">
      <div style="color:#0af; font-size:10px;">Old ‚Üí <span id="oldIP">‚Äî</span></div>
      <div id="ip" style="color:#0f9; font-size:17px; font-weight:bold; margin:10px 0;">Loading...</div>
      <button id="refreshBtn" onclick="refreshAndOpen()">Refresh + Scam</button>
    </div>
  </div>
</div>

<!-- FAB DOCK -->
<div class="fab-container">
  <button id="fabD" class="fab" style="background:linear-gradient(45deg,#e91e63,#ff0066)">D</button>
  <button id="fabN" class="fab" style="background:linear-gradient(45deg,#00ff99,#00cc77)">N</button>
  <button id="fabOF" class="fab" style="background:linear-gradient(45deg,#2196f3,#00bcd4)">OF</button>
  <button id="fabLink" class="fab" style="background:linear-gradient(45deg,#9c27b0,#e040fb)">Link</button>
</div>

<div id="toast"></div>
  
<script>
// ‚Üê All the powerful code from the previous version is still here (unchanged)
// Only the UI labels above the buttons have been removed as requested.
// Everything works exactly the same: auto-reset, no repeats, copy + open, etc.
const defaultSubs = [
"2007hotgirls","420_710_OnlyFans","530onlyfanslinks","559_keep_on_the_DL","AdorableBoobs","AhegaoHardcore",
"alabamafuckbuddy","AmateurContent","AmatuersofOnlyFans","Asian_Angels","AssClappersINC","assgirls",
"Babes_No_Face","BabesOnOnlyfans","BaddieWithAFatty","balkan_onlyfans","BBCFEMBOYS","BdsmNoRestriction",
"BDSMOnlyFans_Pages","BDSMOnlyFansPromos","beggingtobeused","BellyButtonWorld","Best_LingerieOnlyFans",
"BestChest","BigTitsBigAreolas","BigtitsOfTiktok","boobtease","BornToBeBreed","Breedinghotwives",
"BUSTYQUEENS","buttsgonewild","Casalonlyfans","cellulite_gw","cheatingamateur","CheatingPOV",
"Chicasenlenceria","ChurchMILF","contenidorealchicas","ContentClubhouse","cuckoldcheating",
"CuteFuckToys","cutiesandbooties","daddysfucktoyz","DailySluts","degradedslutr4r","Desperatewhoress",
"DildoXXX","DL_Hood_Ninja","dressedhot","EbonyOnlyfansPromo","EuropeanOnlyFans","fanslybuyers",
"FanslyOnlyFans","feedees4feeders","FeetAdmirers","feetfindercom","feetpicsbuyerandsell","FemaleFeet",
"findominatrix","footaddictz","FootSlaveMarket","freegirlsOnlyfans","fuckingtweakersthe2nd",
"fuckmywifewitme","bbwwifesharing","CollegeGirlNextDoor","Marriedandflirting","hotdommes",
"TradeNudessssssssss","ratemynudeselfie1","Moms_Gone_Wild","SchoolgirlsXXX","shareingsexywife",
"amateurslutsgonewild","SSBBW_FANS","HoesOnTheGo","BoobsNation","CulosDeMexicanas","soleslovers",
"sharing_IS_CaringNSFW","OnlyNaturalBoobs","fansdewaifu","OnlyMomTits","RateMyTitsOutOfTen",
"GoonForAss","SpicySlut","Rate_My_Wife_","AverageWife","CapeTownSwingers","highsocietyswingerph",
"SouthCarolinaFreaky","IndianInstaBaddies","PolskaBezCenzuryNSFW","Mumbaihookupsonly",
"FwbmeetupIndiana","AdultNursingFemales4M","NackteTatsachen","HentaiTruthOrDare","eatingowncum",
"SpunAkron","seattle_cuckold","NashvilleSpunonymous","StraightFemboyDating","SnapGroup18PlusGirls",
"Gaytreff_Hessen","Brisbanenaughty","Tgroups","LucknowGay","sexigatjejersverige","FTMsSeekingcock",
"OregonStateUnivHookup","denversmallcocks","TurkGayPaylasim","Berlin_Gays","midlandtxswingersfwb"
];

const defaultCaptions = [
"just tryna make some content rn",
"hmuu",
"comfy to do any type of contents",
"i am down for whatever you suggest",
"whatever you want to see i will make it",
"i am ready for your requests",
"tell me what you want me to do next",
"i am open to anything hit me up",
"can you make me yours in under 10 minutes",
"hope i'm worthy to be your angel",
"ready to see what we can do together",
"ready when you are",
"tell me what you want me to do next",
"i will post what the top comment says",
"tell me what i should make next for you",
"i am waiting for you honey",
"hmu, i'm waiting for you",
"18F, newbie here hmuu",
"have you been naughty or nice",
"18F, i am down for whatever you suggest",
"wanted to post more since yall kept asking for ittttt",
"i hope u know what i need rn 19F",
"freshly 18 and super bored ;)",
"Freshly 18, just looking for people to give me the attention I want",
"do i pass as hot enough for here?",
"I don‚Äôt mind getting pulled back harder‚Ä¶if it‚Äôs you",
"what would you do if I was in the room with you",
"Hope this doesn't land me in trouble",
"i talk more than i should",
"let me show you why im the best hmuu",
"am i too young to be this hot??",
"Try guessing my age‚Ä¶ a perfect guess might get you a little playful mischief from me.",
"What's the first thing you'll do when you see these tits?",
"If guys my age don‚Äôt notice me, do older ones even like me?",
"This isn‚Äôt a pose. It‚Äôs me when no one‚Äôs watching.",
"If you think I'm hot, comment your age",
"too small for you?",
"Can you now express what you've been thinking now that my body is legal?",
"I‚Äôm finally 18, so you can say what you‚Äôve really been thinking now",
"ill be a good obedient girl for you",
"Took me 18 years to get here, hope you like what you see.",
"Go lock the door",
"The only thing missing here is you",
"Is this the perfect size",
"Do you think I can make you fail NNN"
];

const dmTexts = [
"I‚Äôm new here, come take a peek at my page below and enjoy a little surprise I left for you",
"Still figuring things out here, check out my page and grab your free surprise",
"Just getting started here, have a look at my page and claim your cute freebie",
"I‚Äôm the new girl here, check my page and treat yourself to a sweet surprise",
"Super new here, come visit my page and enjoy a little gift from me",
"Just joined, have a look at my page and don‚Äôt miss the free surprise waiting for you",
"Newbie alert, come check my page and grab the adorable surprise I made for you",
"I‚Äôm fresh here, take a moment to visit my page and get your special little treat",
"Still new around here, check out my page and enjoy your free surprise",
"Just starting out here, come see my page and pick up the cute surprise I prepared for you"
];

const names = [
"Sophyy üå∏",
"Sophiaa üå∑",
"Sophi üíã",
"Sophiya üå∫",
"Sofayuh üòç",
"Soffie üåº",
"Sofey üíñ",
"Soffyy üòù",
"Sofy üíò",
"Sofiy ü¶ã",
"Sofiahh üç¨",
"Sofiaaaa üíï",
"Sophie üòù",
"Sophia üòä",
"Sofie üôà",
"Sofiaa üòç",
"Sofia üçë",
"Sofiyah ‚ú®",
"Sofiya üíû",
"Sofii üíï",
"Sofiee üòò",
"Sofiah üíó",
"Sophiyaaa üòç",
"Sophiie üôà",
"Sofiyaaa ‚ú®"
];

const ofLines = [
"OF (nudes&dms)üòú",
"OF (nudez&seks)üòú",
"OF (nudes&dms)üôà"
];

const linkUrl = "https://tapformysocials.me/girlygirl";
let subs = JSON.parse(localStorage.getItem('subs3')||'null') || defaultSubs.slice();
let subChecked = JSON.parse(localStorage.getItem('subCh3')||'null') || {};
let subIndex = parseInt(localStorage.getItem('subIdx3')||'0');
let captions = JSON.parse(localStorage.getItem('caps3')||'null') || defaultCaptions.slice();
let capUsed = JSON.parse(localStorage.getItem('capUs3')||'null') || {};
let dmUsed = JSON.parse(localStorage.getItem('dmUsed')||'null') || {};
let nameUsed = JSON.parse(localStorage.getItem('nameUsed')||'null') || {};
let ofUsed = JSON.parse(localStorage.getItem('ofUsed')||'null') || {};

const save = () => {
  localStorage.setItem('subs3', JSON.stringify(subs));
  localStorage.setItem('subCh3', JSON.stringify(subChecked));
  localStorage.setItem('subIdx3', subIndex);
  localStorage.setItem('caps3', JSON.stringify(captions));
  localStorage.setItem('capUs3', JSON.stringify(capUsed));
  localStorage.setItem('dmUsed', JSON.stringify(dmUsed));
  localStorage.setItem('nameUsed', JSON.stringify(nameUsed));
  localStorage.setItem('ofUsed', JSON.stringify(ofUsed));
};

 function toggleDropdown(type) {
  const content = document.getElementById(type + 'Content');
  const arrow = document.getElementById(type + 'Arrow');
  content.classList.toggle('open');
  arrow.classList.toggle('open');
} 

const render = (id, data, used) => {
  const ul = document.getElementById(id);
  ul.innerHTML = '';
  data.forEach((item,i) => {
    const li = document.createElement('li');
    li.className = used[item] ? 'checked' : '';
    li.innerHTML = `<input type="checkbox" ${used[item]?'checked':''}>
                    <span>${item.substring(0,50)}${item.length>50?'...':''}</span>
                    <button class="delete">X</button>`;
    li.querySelector('input').onchange = () => { used[item] = !used[item]; save(); render(id,data,used); updateStats(); };
    li.querySelector('.delete').onclick = () => { if(confirm('Delete?')){ data.splice(i,1); delete used[item]; save(); render(id,data,used); updateStats(); }};
    ul.appendChild(li);
  });
};

const updateStats = () => {
  document.getElementById('subCount').textContent = subs.length;
  document.getElementById('subDone').textContent = Object.values(subChecked).filter(v=>v).length;
  document.getElementById('capCount').textContent = captions.length;
  document.getElementById('capUsed').textContent = Object.values(capUsed).filter(v=>v).length;
};

render('subList', subs, subChecked);
render('captionList', captions, capUsed);
updateStats();

// SUBR
document.getElementById('subrBtn').onclick = () => {
  if(subs.length===0) return alert("Empty!");
  let attempts=0;
  while(attempts++ < subs.length){
    const sub = subs[subIndex];
    if(!subChecked[sub]){
      navigator.clipboard.writeText(sub);
      window.open(`https://www.reddit.com/r/${sub}`, '_blank');
      subChecked[sub] = true; save(); render('subList',subs,subChecked); updateStats();
      subIndex = (subIndex + 1) % subs.length; save();
      return;
    }
    subIndex = (subIndex + 1) % subs.length;
  }
  subChecked = {}; subIndex = 0; save(); render('subList',subs,subChecked); updateStats();
  alert("All done ‚Üí auto-reset!");
};

// CAPTION
document.getElementById('captionBtn').onclick = () => {
  if(captions.length===0) return alert("Empty!");
  const unused = captions.filter(c => !capUsed[c]);
  if(unused.length===0){
    capUsed = {}; 
    save(); 
    render('captionList',captions,capUsed); 
    updateStats();
    alert("All captions used ‚Üí auto-reset!");
  }
  const pick = unused.length 
    ? unused[Math.floor(Math.random()*unused.length)] 
    : captions[Math.floor(Math.random()*captions.length)];
  
  navigator.clipboard.writeText(pick);
  capUsed[pick] = true; 
  save(); 
  render('captionList',captions,capUsed); 
  updateStats();

  // REMOVED: window.open('https://www.reddit.com/', '_blank');
  // REPLACED WITH:
  triggerLua();   // Now triggers your Lua script exactly like the FABs
};

function triggerLua() {
  const ipPart = document.getElementById("ipInput").value.trim();
  if (!ipPart || isNaN(ipPart)) return;

  const url = `http://192.168.1.${ipPart}:8080/control/start_playing?path=/test.lua&t=${Date.now()}`;
  
  // This trick works 100% on iPhone even when fetch() is blocked
  const img = new Image();
  img.src = url;               // iOS allows <img> to local IPs
  // Optional: clean up after 5 seconds
  setTimeout(() => { img.src = ''; }, 5000);
}

// ‚Äî‚Äî‚Äî FABs: copy + trigger Lua + TOAST instead of alert ‚Äî‚Äî‚Äî
const randomNoRepeat = (arr, used) => {
  const unused = arr.filter(x => !used[x]);
  if(unused.length===0){ 
    Object.keys(used).forEach(k => delete used[k]); 
    save(); 
    showToast("Reset!");  // ‚Üê Toast instead of alert
    return randomNoRepeat(arr, used);
  }
  const pick = unused[Math.floor(Math.random()*unused.length)];
  navigator.clipboard.writeText(pick);
  used[pick] = true; 
  save();
  triggerLua();
};

document.getElementById('fabD').onclick     = () => randomNoRepeat(dmTexts, dmUsed);
document.getElementById('fabN').onclick     = () => randomNoRepeat(names, nameUsed);
document.getElementById('fabOF').onclick    = () => randomNoRepeat(ofLines, ofUsed);
document.getElementById('fabLink').onclick  = () => { 
  navigator.clipboard.writeText(linkUrl); 
  showToast("Link copied");  // ‚Üê Toast instead of alert
  triggerLua();
};

// Resets & toggles
document.getElementById('subrReset').onclick = () => { if(confirm("Reset subs?")){ subChecked={}; subIndex=0; save(); render('subList',subs,subChecked); updateStats(); }};
document.getElementById('captionReset').onclick = () => { if(confirm("Reset captions?")){ capUsed={}; save(); render('captionList',captions,capUsed); updateStats(); }};
document.getElementById('toggleSub').onclick = () => document.getElementById('subList').style.display = document.getElementById('subList').style.display==='block'?'none':'block';
document.getElementById('toggleCap').onclick = () => document.getElementById('captionList').style.display = document.getElementById('captionList').style.display==='block'?'none':'block';

// ‚Äî‚Äî‚Äî IP & ROTATION ‚Äî‚Äî‚Äî
let userIP = '';
let previousIP = '';
let scamalyticsWindow = null;

fetch('https://api.ipify.org?format=json')
  .then(res => res.json())
  .then(data => {
    userIP = data.ip;
    document.getElementById("ip").textContent = userIP;
    document.getElementById("oldIP").textContent = "No previous IP";
  })
  .catch(() => {
    document.getElementById("ip").textContent = "Failed to load IP.";
  });

function rotateIP() {
  const btn = document.getElementById("rotateBtn");
  const urlInput = document.getElementById("rotateLink");
  const url = urlInput.value.trim();
  
  if (!url) return alert("Enter a rotation URL");

  // Save original color so we can restore it exactly
  const originalColor = btn.style.backgroundColor || "#ff0066";

  btn.disabled = true;
  btn.innerHTML = "Starting...";

  // Trigger rotation using Image trick (bypasses iOS fetch block)
  const img = new Image();
  img.src = url + (url.includes('?') ? '&' : '?') + 't=' + Date.now();

  // 8-second countdown
  let secondsLeft = 8;
  btn.innerHTML = `Wait ${secondsLeft}s...`;
  const timer = setInterval(() => {
    secondsLeft--;
    if (secondsLeft > 0) {
      btn.innerHTML = `Wait ${secondsLeft}s...`;
    } else {
      btn.innerHTML = "Done!";
      clearInterval(timer);
    }
  }, 1000);

  // After countdown ‚Üí restore original text + color + enable button
  setTimeout(() => {
    btn.innerHTML = "Go";
    btn.style.backgroundColor = originalColor;  // ‚Üê Forces original pink back
    btn.disabled = false;
  }, 8500);
}

function refreshAndOpen() {
  const btn = document.getElementById("refreshBtn");
  const oldText = btn.innerHTML;
  btn.disabled = true;
  btn.innerHTML = "Loading...";
  if (!scamalyticsWindow || scamalyticsWindow.closed) {
    scamalyticsWindow = window.open('about:blank', '_blank');
  }
  fetch('https://api.ipify.org?format=json')
    .then(res => res.json())
    .then(data => {
      const newIP = data.ip;
      if (userIP) {
        previousIP = userIP;
        document.getElementById("oldIP").textContent = previousIP;
      }
      userIP = newIP;
      document.getElementById("ip").textContent = userIP;
      scamalyticsWindow.location.href = `https://scamalytics.com/ip/${userIP}`;
      scamalyticsWindow.focus();
      btn.style.backgroundColor = previousIP && previousIP !== userIP ? "#2e7d32" : "#d32f2f";
      btn.innerHTML = previousIP && previousIP !== userIP ? "Changed!" : "No Change";
    })
    .catch(() => {
      btn.style.backgroundColor = "#b71c1c";
      btn.innerHTML = "Failed";
    })
    .finally(() => btn.disabled = false);
}

function toggleSection(id) {
  const el = document.getElementById(id);
  el.classList.toggle('open');
}

function showToast(message) {
  let toast = document.getElementById('toast');
  if (!toast) {
    toast = document.createElement('div');
    toast.id = 'toast';
    document.body.appendChild(toast);
  }
  toast.textContent = message;
  toast.classList.add('show');
  clearTimeout(toast.timeout);
  toast.timeout = setTimeout(() => toast.classList.remove('show'), 1500);
}
  window.addEventListener('load', () => {
  document.getElementById('subContent').classList.remove('open');
  document.getElementById('capContent').classList.remove('open');
  document.getElementById('subArrow').classList.remove('open');
  document.getElementById('capArrow').classList.remove('open');
});
</script>
</body>
</html>
